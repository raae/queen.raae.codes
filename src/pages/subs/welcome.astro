---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SiteHeader from "../../components/SiteHeader.astro";
import PageSection from "../../components/PageSection.astro";
import PageSectionHeader from "../../components/PageSectionHeader.astro";
import PageSectionBreadcrumbs from "../../components/PageSectionBreadcrumbs.astro";
import Posts from "../../components/Posts.astro";
import { getAllPosts } from "../../lib/posts";

const BADGE = "Emails";
const TITLE = "Welcome";
const DESCRIPTION = "You'll hear from us shortly\u00a0ðŸ“¬";
const META_DESCRIPTION = "You'll hear from us shortly ðŸ“¬";

const allPosts = await getAllPosts();
const latestPosts = allPosts.slice(0, 7);
---

<BaseLayout title={`${BADGE} - ${TITLE}`} description={META_DESCRIPTION}>
  <SiteHeader />
  <main>
    <PageSection component="header">
      <PageSectionBreadcrumbs class="mt-4" items={[{ label: BADGE, to: "/subs/" }, { label: TITLE }]} />
      <PageSectionHeader title={DESCRIPTION} hLevel={1} />
    </PageSection>
    <PageSection>
      <PageSectionHeader title="Latest Posts" />
      <Posts posts={latestPosts} more />
    </PageSection>
  </main>
</BaseLayout>
