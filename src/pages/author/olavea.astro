---
import BaseLayout from "../../layouts/BaseLayout.astro";
import SiteHeader from "../../components/SiteHeader.astro";
import PageSection from "../../components/PageSection.astro";
import PageSectionHeader from "../../components/PageSectionHeader.astro";
import Posts from "../../components/Posts.astro";
import Newsletter from "../../components/Newsletter.astro";
import { getAllPosts } from "../../lib/posts";

const BADGE = "Author";
const TITLE = "Ola Holst Vea ðŸ´â€â˜ ï¸";
const DESCRIPTION =
  "Ola Holst Vea ðŸ´â€â˜ ï¸ â€” Developer, tinkerer, and co-founder of Lilly Labs. Ola writes about his coding adventures, from Laravel to Gatsby and beyond.";

const allPosts = await getAllPosts();
const posts = allPosts.filter((post) => post.author === "OlaVea");
---

<BaseLayout title={TITLE} description={DESCRIPTION}>
  <SiteHeader />
  <main>
    <PageSection component="header">
      <PageSectionHeader badge={BADGE} title={TITLE} lead={DESCRIPTION} hLevel={1} />
    </PageSection>

    <PageSection component="section">
      <Posts posts={posts} />
    </PageSection>

    <PageSection component="footer">
      <Newsletter />
    </PageSection>
  </main>
</BaseLayout>
