---
import ContentList from './ContentList.astro';
import type { ProcessedPost } from '../lib/posts';

interface Props {
  posts?: ProcessedPost[];
  more?: boolean;
  limit?: number;
  class?: string;
}

const { posts = [], more = false, limit, class: className } = Astro.props;

const displayPosts = limit ? posts.slice(0, limit) : posts;

const items = displayPosts.map(({ title, slug, dateFormatted }) => ({
  to: slug,
  primary: title,
  secondary: dateFormatted,
}));

const ctas = more ? [{ to: '/posts/', label: 'More...' }] : [];
---

<ContentList items={items} ctas={ctas} class={className} />
