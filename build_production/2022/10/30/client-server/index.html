<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="canonical" href="https://queen.raae.codes/2022/10/30/client-server">
        <meta name="description" content="Ahoy, seasoned JavaScript developers and daring dev pirates! Join our swashbuckling crew as we embark on thrilling treasure hunts unraveling the secrets of HTML, CSS, and JavaScript, all while having a blast!">
        <title>Client talks to the server that talks to another server...</title>
                <link rel="stylesheet" href="/assets/build/assets/main-HrG164mN.css">
        <script defer type="module" src="/assets/build/assets/main-l0sNRNKZ.js"></script>
    </head>
    <body class="text-gray-900 font-sans antialiased">
        <article class="max-w-3xl mx-auto px-4 py-8">
    <header class="mb-8">
        <h1 class="text-4xl font-bold text-brown-900 mb-4">Client talks to the server that talks to another server...</h1>

        
                    <div class="mt-4 flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-brown-100 text-brown-800 rounded-full text-sm">
                        Client Side Rendering (CSR)
                    </span>
                                    <span class="px-3 py-1 bg-brown-100 text-brown-800 rounded-full text-sm">
                        Gatsby Function
                    </span>
                                    <span class="px-3 py-1 bg-brown-100 text-brown-800 rounded-full text-sm">
                        
                    </span>
                            </div>
            </header>

    <div class="prose prose-lg prose-brown max-w-none">
        <p>In this week's <a href="https://youtu.be/PCQrzSE33Y4">unauthorized and rum-fueled treasure hunt</a> in the sharky waters around the Gatsby islands üè¥‚Äç‚ò†Ô∏è], we added unfollow functionality from Prune your Follows.</p>

<p><a href="https://youtu.be/PCQrzSE33Y4"><img src="./twitter-screendump.png" alt="Screengrab from the show" /></a></p>

<p>When we create an interactive feature like that, we are squarely in the middle of Client Side Rendering (CSR) land. We don't want the page to reload when the user clicks or taps the unfollow button. We want to let the user keep going about their business while the server tries to fulfill the request.</p>

<p>So when someone clicks or taps the unfollow button in Prune your Follows:
Our client (a rehydrated Gatsby site) asks our server (a Gatsby Function) to unfollow the account.
Our Gatsby Function asks Twitter to unfollow the account in question.
Twitter responds.
Our Gatsby Function asks Xata to update the corresponding account record.
Xata responds.
Our Gatsby Function responds.</p>

<p><img src="./unfollow-diagram.png" alt="Unfollow Diagram" /></p>

<p>This "song and dance" is done again and again for all the different functionality.</p>

<p>For instance, the fuzzy search functionality we added last week. There is no need to talk Twitter, though, as all the accounts are periodically imported into the Xata database.</p>

<p><img src="./search-diagram.png" alt="Search Diagram" /></p>

<p>If we were relying on Server Side Rendering, the same song and dance would be happening. But the response from our server would be an entire web page, not just a little piece of data.</p>

<p>The same song and dance would also be happening with Server Side Components. But the response would be a component the framework knows how to stitch into the current web page.</p>

<p>&nbsp;</p>

<p>All the best,<br />
Queen Raae</p>
    </div>
</article>
    </body>
</html>
