<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="canonical" href="https://queen.raae.codes/2023/05/06/url-search-params">
        <meta name="description" content="Ahoy, seasoned JavaScript developers and daring dev pirates! Join our swashbuckling crew as we embark on thrilling treasure hunts unraveling the secrets of HTML, CSS, and JavaScript, all while having a blast!">
        <title>How to properly handle search (query) params in javascript</title>
                <link rel="stylesheet" href="/assets/build/assets/main-HrG164mN.css">
        <script defer type="module" src="/assets/build/assets/main-l0sNRNKZ.js"></script>
    </head>
    <body class="text-gray-900 font-sans antialiased">
        <article class="max-w-3xl mx-auto px-4 py-8">
    <header class="mb-8">
        <h1 class="text-4xl font-bold text-brown-900 mb-4">How to properly handle search (query) params in javascript</h1>

        
                    <div class="mt-4 flex flex-wrap gap-2">
                                    <span class="px-3 py-1 bg-brown-100 text-brown-800 rounded-full text-sm">
                        javascript
                    </span>
                            </div>
            </header>

    <div class="prose prose-lg prose-brown max-w-none">
        <p>An <a href="http://www.outseta.com?via=queen">Outseta</a> customer wanted to pass along the UTM search params to the Outseta SignUp widget so that a visitor who came in through <em>https://example.com?utm_source=facebook&amp;utm_medium=paid_social&amp;utm_campaign=summer_sale</em> gets attributed to the summer sale paid Facebook ad.</p>

<p>Search, or query params, is the information after the <code>?</code> in a URL such as <code>utm_source=facebook&amp;utm_medium=paid_social&amp;utm_campaign=summer_sale</code> in our example.</p>

<p>UTM is a set of params commonly used for tracking marketing efforts, but you can add anything here to suit your needs.</p>

<p>I did some quick googling and came over many creative solutions like separating out the search params by splitting on <code>?</code> etc.</p>

<p>However, vanilla JS supports this use case out of the box ðŸ¤¯</p>

<pre><code class="language-js">const url = new URL(
  "https://example.com?utm_source=facebook&amp;utm_medium=paid_social&amp;utm_campaign=summer_sale"
);

console.log(
  url.searchParams.get("utm_source"),
  url.searchParams.get("utm_medium"),
  url.searchParams.get("utm_campaign")
);

// Output: facebook paid_social summer_sale
</code></pre>

<p><a href="/2022-05-10-new-url/"><code>URL</code> is the constructor</a> you should reach for every time you deal with URLs, and the <code>searchParams</code> we are accessing here conforms to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code> interface with methods such as <code>has</code>, <code>sort</code>, <code>getAll</code> and more</a>.</p>

<p>Never try to deal with URLs yourself; JS got your back!</p>

<p>You'll also need to keep the values arround in <a href="/2023-05-11-session-storage/">session storage</a> to make use of them later.</p>

<p>&nbsp;</p>

<p>All the best,\
Queen Raae</p>
    </div>
</article>
    </body>
</html>
